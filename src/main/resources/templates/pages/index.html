<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/assets/app/app.css"/>
    <script type="application/javascript" src="/js/script.js"></script>
    <link href="/assets/fontawesome/css/fontawesome.css" rel="stylesheet">
    <link href="/assets/fontawesome/css/brands.css" rel="stylesheet">
    <link href="/assets/fontawesome/css/solid.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Nunito' rel='stylesheet'>
    <title th:text="${@environment.getProperty('app.name')}"></title>
</head>
<body class="register">

<div class="logo">
    <img src="/assets/images/logo.png"/>
</div>

<div class="form card">
    <h2 class="text-center m-0" id="form-header">Zaloguj</h2>


    <div class="separator"></div>
    <form th:action="@{/login}" method="POST" id="login-form">
        <div th:if="${errorMessage}">
            <p th:text="${errorMessage}"></p>
        </div>

        <div class="m-2">
            <div class="mb-4">
                <label>
                    Nazwa użytkownika
                    <input class="input" id="login-username" name="username"/>
                </label>
            </div>

            <div class="mb-4">
                <label>
                    Hasło
                    <input class="input" type="password" id="login-password" name="password"/>
                </label>
            </div>
        </div>

        <div class="separator"></div>

        <div class="m-2">
            <div class="text-center mb-4">
                <input type="submit" class="button" value="Zaloguj"/>
            </div>
            <div class="text-center">
                <a href="#" class="link" onclick="switchForms(); return false;">Załóż konto</a>
            </div>
        </div>
    </form>

    <form th:action="@{/registration}" method="POST" th:object="${userDTO}" style="display: none;"
          id="registration-form">
        <div  th:if="${#fields.hasErrors()}">
            <p th:text="${errorMessage}"></p>
        </div>

        <div class="m-2">

            <div class="mb-4">
                <label>
                    E-mail
                    <input class="input" type="text" id="email" name="email" th:field="${userDTO.email}" required/>
                </label>
            </div>

            <div class="mb-4">
                <label>
                    Nazwa użytkownika
                    <input class="input" type="text" id="username" name="username" th:field="${userDTO.username}"
                           autocomplete="off" required/>
                </label>
            </div>

            <div class="mb-4">
                <label>
                    Hasło
                    <input class="input" type="password" id="password" name="password" th:field="${userDTO.password}"
                           autocomplete="off" required/>
                </label>
            </div>

        </div>
        <div th:if="${#fields.hasErrors('email')}" class="text-danger" role="alert">
            <span th:errors="*{email}"></span>
        </div>

        <div class="separator"></div>

        <div class="m-2">
            <div class="text-center mb-4">
                <input type="submit" class="button" value="Zarejestruj"/>
            </div>
            <div class="text-center">
                <a href="#" class="link" onclick="switchForms(); return false;">Wróć do logowania</a>
            </div>
        </div>
    </form>
</div>

</body>
</html>
